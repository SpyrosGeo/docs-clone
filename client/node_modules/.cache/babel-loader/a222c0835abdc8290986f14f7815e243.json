{"ast":null,"code":"var equal = require('deep-equal');\n\nvar extend = require('extend');\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n\n          return copy;\n        }, {});\n      }\n\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n    diff: function (a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b; // b simply overwrites us without priority\n\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key]; // null is a valid value\n\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n}\n\n;\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp);\n\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n\n    if (typeof nextOp['delete'] === 'number') {\n      return {\n        'delete': length\n      };\n    } else {\n      var retOp = {};\n\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n\n      return retOp;\n    }\n  } else {\n    return {\n      retain: Infinity\n    };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n\n  return 'retain';\n};\n\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\n\nmodule.exports = lib;","map":{"version":3,"sources":["/home/thatguy/My-repos/Javascript/React/docs-clone/client/node_modules/quill-delta/lib/op.js"],"names":["equal","require","extend","lib","attributes","compose","a","b","keepNull","Object","keys","reduce","copy","key","undefined","length","diff","concat","transform","priority","iterator","ops","Iterator","op","retain","insert","index","offset","prototype","hasNext","peekLength","Infinity","next","nextOp","opLength","retOp","substr","peek","peekType","rest","slice","module","exports"],"mappings":"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","sourcesContent":["var equal = require('deep-equal');\nvar extend = require('extend');\n\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\n\n\nmodule.exports = lib;\n"]},"metadata":{},"sourceType":"script"}